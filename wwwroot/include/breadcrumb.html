<link rel="stylesheet" href="css/breadcrumb.css">
<div class="breadcrumb-container">
  <div class="d-flex justify-content-between align-items-center">
    <nav aria-label="breadcrumb" class="flex-grow-1">
      <!-- 面包屑导航 -->
      <div class="breadcrumb-wrapper">
        <!-- 默认显示的面包屑 -->
        <ol class="breadcrumb m-0 py-2 px-3 d-flex align-items-center" id="defaultBreadcrumb">
          <li class="breadcrumb-item">
            <a href="#/" title="根目录"><i class="bi bi-house-door"></i></a>
          </li>
          <!-- 动态生成的面包屑项将在这里 -->
        </ol>

        <!-- 编辑模式的输入框（默认隐藏） -->
        <div class="path-editor d-none">
          <div class="input-group">
            <span class="input-group-text"><i class="bi bi-pencil"></i></span>
            <input type="text" class="form-control" id="pathInput" placeholder="输入路径">
            <button class="btn btn-primary" type="button" id="confirmPath">
              <i class="bi bi-arrow-right"></i>
            </button>
            <button class="btn btn-secondary" type="button" id="cancelPathEdit">
              <i class="bi bi-x"></i>
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- 操作按钮组 -->
    <div class="d-flex align-items-center me-3">
      <!-- 增加编辑路径按钮 -->
      <button class="btn btn-icon me-2" id="editPathBtn" title="编辑路径">
        <i class="bi bi-pencil"></i>
      </button>
      <div class="dropdown">
        <button class="btn btn-icon me-2" type="button" id="viewOptionsDropdown" data-bs-toggle="dropdown"
          aria-expanded="false" title="视图选项">
          <i class="bi bi-grid-3x3-gap-fill"></i>
        </button>
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="viewOptionsDropdown">
          <li></li>
          <a class="dropdown-item d-flex align-items-center" href="#" data-view-mode="detailed-list">
            <i class="bi bi-list-ul me-2"></i>详细列表
          </a>
          </li>
          <li>
            <a class="dropdown-item d-flex align-items-center" href="#" data-view-mode="grid-medium">
              <i class="bi bi-grid-3x3-gap me-2"></i>图标模式
            </a>
          </li>
        </ul>
      </div>
      <button class="btn btn-icon" title="上传"
        onclick="openUpload(decodeURI(window.location.hash.replace(/^#/, '') || '/'))">
        <i class="bi bi-upload"></i>
      </button>

      <!-- 选择功能帮助按钮 -->
      <div class="dropdown">
        <button class="btn btn-icon" type="button" id="selectionHelpDropdown" data-bs-toggle="dropdown"
          aria-expanded="false" title="选择帮助">
          <i class="bi bi-question-circle"></i>
        </button>
        <div class="dropdown-menu dropdown-menu-end p-3" aria-labelledby="selectionHelpDropdown"
          style="min-width: 320px;">
          <h6 class="dropdown-header"><i class="bi bi-info-circle me-2"></i>文件选择操作指南</h6>
          <div class="mb-2">
            <small class="text-muted">
              <strong>基础操作：</strong><br>
              • 单击复选框 - 选择/取消选择文件<br>
              • 拖拽空白区域或复选框 - 框选多个文件<br>
              • Ctrl + 点击文件 - 多选/取消选择<br>
              • Shift + 点击文件 - 范围选择
            </small>
          </div>
          <div class="mb-2">
            <small class="text-muted">
              <strong>键盘快捷键（非输入模式）：</strong><br>
              • Ctrl + A - 全选文件<br>
              • Ctrl + ESC - 取消选择<br>
              • Ctrl + C - 复制选中文件<br>
              • Ctrl + X - 剪切选中文件<br>
              • Ctrl + V - 粘贴文件<br>
              • Delete - 删除选中文件
            </small>
          </div>
          <div class="mb-2">
            <small class="text-muted">
              <strong>移动端操作：</strong><br>
              • 长按文件 - 进入多选模式<br>
              • 触摸拖拽空白区域 - 框选文件
            </small>
          </div>
          <div class="text-muted">
            <small><i class="bi bi-lightbulb me-1"></i>提示：按住 Ctrl 拖拽可以添加到现有选择<br>
              <i class="bi bi-exclamation-triangle me-1"></i>快捷键在输入框中无效</small>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
